<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="None">
  
  <link rel="shortcut icon" href="img/favicon.ico">
  <title>Home - Kamodo Analysis Suite</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="css/theme.css" type="text/css" />
  <link rel="stylesheet" href="css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Home";
    var mkdocs_page_input_path = "README.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="js/jquery-2.1.1.min.js" defer></script>
  <script src="js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> Kamodo Analysis Suite</a>
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1 current">
		
    <a class="current" href=".">Home</a>
    <ul class="subnav">
            
    <li class="toctree-l2"><a href="#kamodo">Kamodo</a></li>
    
        <ul>
        
            <li><a class="toctree-l3" href="#usage">Usage</a></li>
        
            <li><a class="toctree-l3" href="#getting-started">Getting started</a></li>
        
            <li><a class="toctree-l3" href="#generating-docs">Generating Docs</a></li>
        
        </ul>
    

    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="about/">About</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="notebooks/Kamodo/">Introduction</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="notebooks/Visualization/">Visualization</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="notebooks/Syntax/">Syntax</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="notebooks/Kamodofying_Models/">Kamodofying Models</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="notebooks/FieldIntegration/">Field Integration</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="notebooks/kameleon-kamodo/">Kameleon</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="notebooks/TIEGCM/">TIEGCM</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="notebooks/CommandLineInterface/">CommandLine</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="additional_resources/">Additional Resources</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">Kamodo Analysis Suite</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
    
    <li>Home</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="kamodo">Kamodo<a class="headerlink" href="#kamodo" title="Permanent link">&para;</a></h1>
<p>Kamodo is a new CCMC tool for access, interpolation, and visualization of space weather models and data in python. Kamodo allows model developers to represent simulation results as mathematical functions which may be manipulated directly by end users. Kamodo handles unit conversion transparently and supports interactive science discovery through jupyter notebooks with minimal coding and is accessible through python.</p>
<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h2>
<p>Suppose we have a vector field defined by a function of positions in the x-y plane:</p>
<pre><code class="python">from kamodo import kamodofy
import numpy as np

x = np.linspace(-np.pi, np.pi, 25)
y = np.linspace(-np.pi, np.pi, 30)
xx, yy = np.meshgrid(x,y)
points = np.array(zip(xx.ravel(), yy.ravel()))

@kamodofy(units = 'km/s')
def fvec(rvec = points):
    ux = np.sin(rvec[:,0])
    uy = np.cos(rvec[:,1])
    return np.vstack((ux,uy)).T
</code></pre>

<p>The @kamodofy decorator lets us register this field with units to enable unit-conversion downstream:</p>
<pre><code class="python">from kamodo import Kamodo

kamodo = Kamodo(fvec = fvec)
kamodo
</code></pre>

<p>When run in a jupyter notebook, the above kamodo object will render as a set of equations:</p>
<p>
<script type="math/tex; mode=display">\vec{f}{\left (\vec{r} \right )} [km/s] = \lambda{\left (\vec{r} \right )}</script>
</p>
<p>We can now evaluate our function using dot notation:</p>
<pre><code class="python">kamodo.fvec(np.array([[-1,1]]))
</code></pre>

<pre><code class="console">array([[-0.84147098,  0.54030231]])
</code></pre>

<p>We can perform unit conversion by function composition:</p>
<pre><code class="python">kamodo['gvec[m/s]'] = 'fvec'
</code></pre>

<p>kamodo automatically generates the appropriate multiplicative factors:
<script type="math/tex; mode=display">\vec{g}{\left (\vec{r} \right )} [m/s] = 1000 \vec{f}{\left (\vec{r} \right )}</script>
we can verify these results through evaluation</p>
<pre><code class="python">kamodo.gvec(np.array([[-1,1]]))
</code></pre>

<pre><code class="console">array([[-841.47098481,  540.30230587]])
</code></pre>

<p>Kamodo also generates quick-look graphics via function inspection.</p>
<pre><code class="python">import plotly.io as pio

fig = kamodo.plot('fvec')
pio.write_image(fig, 'images/fig2d-usage.svg')
</code></pre>

<p><img alt="usage" src="notebooks/images/fig2d-usage.svg" /></p>
<p>Head over to the <a href="notebooks/Kamodo/">Introduction</a> page for more details.</p>
<h2 id="getting-started">Getting started<a class="headerlink" href="#getting-started" title="Permanent link">&para;</a></h2>
<p>Kamodo may be installed from pip</p>
<pre><code class="console">pip install kamodo
</code></pre>

<p>To get the latest version, install from Asher's fork:</p>
<pre><code class="console">pip install git+https://github.com/asherp/Kamodo.git
</code></pre>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Asher's fork is periodically merged into the CCMC's official NASA version.</p>
</div>
<h3 id="kamodo-environment">Kamodo Environment<a class="headerlink" href="#kamodo-environment" title="Permanent link">&para;</a></h3>
<p>We strongly recommend using the conda environment system to avoid library conflicts with your host machine's python.</p>
<p>Download and install miniconda from <a href="https://conda.io/miniconda.html">here</a>. The advantage to using miniconda is that each new environment includes the bare-minimum for a project. This allows you to keep many different projects on a single work station.</p>
<h4 id="create-kamodo-environment">Create Kamodo environment<a class="headerlink" href="#create-kamodo-environment" title="Permanent link">&para;</a></h4>
<p>Create a new environment for kamodo</p>
<pre><code class="console">conda create -n kamodo python==3.7
conda activate kamodo
(kamodo) pip install kamodo
</code></pre>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The leading (kamodo) in your prompt indicates that you have activated the <code>kamodo</code> environment.
From here on, anything you install will be isolated to the <code>kamodo</code> environment.</p>
</div>
<h4 id="loading-example-notebooks">Loading example notebooks<a class="headerlink" href="#loading-example-notebooks" title="Permanent link">&para;</a></h4>
<p>If you want to run any of the notebooks in docs, you will need to install <code>jupyter</code>:</p>
<pre><code class="console">(kamodo) conda install jupyter
</code></pre>

<p>Navigate to the top-level of the kamodo repo, then point jupyter to <code>docs/notebooks</code>:</p>
<pre><code>(kamodo) jupyter notebook docs/notebooks
</code></pre>
<p>This should open a browser window that will allow you to load any of the example notebooks.</p>
<h4 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Permanent link">&para;</a></h4>
<p>The following requirements are obtained by running <code>pip install kamodo</code></p>
<ul>
<li>numpy</li>
<li>scipy</li>
<li>sympy</li>
<li>pandas</li>
<li>plotly==3.3 </li>
<li>pytest</li>
<li>psutil</li>
<li>conda install antlr-python-runtime (rendering latex)</li>
<li>conda install -c plotly plotly-orca (for writing images)</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>plotly version in flux</p>
</div>
<h2 id="generating-docs">Generating Docs<a class="headerlink" href="#generating-docs" title="Permanent link">&para;</a></h2>
<p>Kamodo's documentation site is a good example of how to embed your own plots in your own website.
The documentation site is generated by the <code>mkdocs</code> package with some addons</p>
<ul>
<li>mkdocs - handles site generation and deployment (configured by top-level <code>mkdocs.yaml</code>)</li>
<li>markdown-include - allows for embedding of markdown files (and graph divs) outside the docs folder</li>
<li>python-markdown-math - enables LaTeX rendering</li>
<li>mknotebooks - allows for the embedding of jupyter notebooks</li>
</ul>
<p>All of the above requirements can be installed with this line:</p>
<pre><code class="console">pip install mkdocs python-markdown-math markdown-include mknotebooks
</code></pre>

<p>You can then generate the docs and serve locally with</p>
<p><code>mkdocs serve</code></p>
<p>To deploy your own documentation on github-pages:</p>
<p><code>mkdocs gh-deploy</code></p>
<p>This generates a gh-pages branch with the static site files and pushes it to github. Github automatically creates a website url based on that branch.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="about/" class="btn btn-neutral float-right" title="About">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
      
        <span style="margin-left: 15px"><a href="about/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme.js" defer></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer></script>

</body>
</html>

<!--
MkDocs version : 1.0.4
Build Date UTC : 2020-01-29 17:02:07
-->
